{% macro render_thread(thread, current_user) -%}
	<ul>
		{% for r in thread.replies %}
			<li>
				&lt;<a href="{{ url_for('user_profile_page', username=r.author.username) }}">{{ r.author.display_name }}</a>&gt;
				{{ r.comment }}
			</li>
		{% endfor %}
	</ul>

	{% if current_user.is_authenticated %}
		<form method="post" action="{{ url_for('thread_page', id=thread.id)}}">
			<input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
			<textarea required maxlength=500 name="comment"></textarea><br />
			<input type="submit" value="Comment" />
		</form>
	{% endif %}
{% endmacro %}

{% macro render_threadlist(threads) -%}
	<ul>
		{% for t in threads %}
			<li><a href="{{ url_for('thread_page', id=t.id) }}">{{ t.title }}</a> by {{ t.author.display_name }}</li>
		{% endfor %}
	</ul>

{% endmacro %}
