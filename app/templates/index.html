{% extends "base.html" %}

{% block title %}
{{ _("Welcome") }}
{% endblock %}

{% block scriptextra %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "url": "https://content.minetest.net/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://content.minetest.net/packages?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
{% endblock %}

{% block content %}
<!-- <header class="jumbotron">
	<div class="container">
		<h1 class="display-3">{{ config.USER_APP_NAME }}</h1>

		<p class="lead">
			Minetest's official content repository.
			Browse {{ count }} packages,
			the majority of which are available under a free
			and open source license.
		</p>
	</div>
</header>

<main class="container"> -->
	{% from "macros/packagegridtile.html" import render_pkggrid %}


	<a href="{{ url_for('packages.list_all', sort='created_at', order='desc') }}" class="btn btn-secondary float-right">
		{{ _("See more") }}
	</a>
	<h2 class="my-3">{{ _("Recently Added") }}</h2>
	{{ render_pkggrid(new) }}


	<a href="{{ url_for('packages.list_all', type='mod', sort='score', order='desc') }}" class="btn btn-secondary float-right">
		{{ _("See more") }}
	</a>
	<h2 class="my-3">{{ _("Top Mods") }}</h2>
	{{ render_pkggrid(pop_mod) }}


	<a href="{{ url_for('packages.list_all', type='game', sort='score', order='desc') }}" class="btn btn-secondary float-right">
		{{ _("See more") }}
	</a>
	<h2 class="my-3">{{ _("Top Games") }}</h2>
	{{ render_pkggrid(pop_gam) }}


	<a href="{{ url_for('packages.list_all', type='txp', sort='score', order='desc') }}" class="btn btn-secondary float-right">
		{{ _("See more") }}
	</a>
	<h2 class="my-3">{{ _("Top Texture Packs") }}</h2>
	{{ render_pkggrid(pop_txp) }}

	<div class="text-center">
		<small>
			{{ _("CDB has %(count)d packages, with a total of %(downloads)d downloads.", count=count, downloads=downloads) }}
		</small>
	</div>
<!-- </main> -->
{% endblock %}
